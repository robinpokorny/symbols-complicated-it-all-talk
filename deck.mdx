import { Notes } from 'mdx-deck'
import { Appear, Image } from '@mdx-deck/components'

export { default as theme } from './src/theme'


# Symbols complicated it all

_by [Robin Pokorny](https://robinpokorny.com)_

---

# Why talk about it?
<Notes>Good guy Robin</Notes>

---

# Symbols

```js
const sym = Symbol()

typeof sym
// -> "symbol"

sym === Symbol()
// -> false
```

<Notes>No literal, not a constructor</Notes>

---

## Primitive values

<ul>
  <Appear>
    <li> boolean </li>
    <li> number </li>
    <li> string </li>
    <li> undefined </li>
    <li> null </li>
    <li> <b>symbol</b> </li>
  </Appear>
</ul>

---

## Primitive values

<ul>
    <li> boolean </li>
    <li> number </li>
    <li> string </li>
    <li> undefined </li>
    <li> null </li>
    <li> <b>symbol</b> </li>
</ul>

### complication #1

---

## What for?

```js
const sym = Symbol()

const o = {
  name: "My key is a string"
  [sym]: "My key is a symbol"
}

o[sym1]
// -> "My key is a symbol"
```
<Notes>prop key = prop name | prop symbol </Notes>

---

## Convertion

```js
Boolean(sym)
// -> true
```
```js
!sym
// -> false
```

---

## Convertion

```js
Number(sym)
// -> TypeError
```
```js
sym * 5
// -> TypeError
```

### complication #2

---

## Convertion

```js
String(sym)
// -> "Symbol()"
```
```js
'' + sym
`${"${sym}"}`
// -> TypeError
```

### complication #3

---

# Object inspection

---

## symbol vs enumerable

---

```js
const c = Symbol();
const d = Symbol.for("d")

const o = { a: 1, [c]: 10 };

Object.defineProperty(o, "b",
  { value: 2, enumerable: false });
Object.defineProperty(o, d,
  { value: 20, enumerable: false});
```

---

<img src={require('file-loader!./images/enum-symbol.png')} />

---

## Access

```js
o.a
// -> 1
o.b
// -> 2
o[c]
// -> 10
o[d]
// -> 20
```

---

## hasOwnProperty

```js
o.hasOwnProperty('a')
// -> true
o.hasOwnProperty('b')
// -> true
o.hasOwnProperty(c)
// -> true
o.hasOwnProperty(d)
// -> true
```

---

## keys

```js
Object.keys(o)
// -> ["a"]

Object.entries(o)
// -> [["a", 1]]
```
### complication #4

---

## Descriptors

```js
Object.getOwnPropertyDescriptors(o)
// -> {
//   a: {â€¦}, b: {â€¦},
//   Symbol(): {â€¦}, Symbol(d): {â€¦}
// }

```
### complication #5

---

## getOwn

```js
Object.getOwnPropertyNames(o)
// -> ["a", "b"]
Object.getOwnPropertySymbols(o)
// -> [Symbol(), Symbol(d)]
```

---

## assign

```js
Object.assign({}, o)
// -> {a: 1, Symbol(): 10}

{ ...o }
// -> {a: 1, Symbol(): 10}
```

---

## JSON

```js
JSON.stringify(o)
// -> `{"a":1}`

```
### complication #6

---

## Reflect

```js
Reflect.ownKeys(o)
// -> ["a", "b", Symbol(), Symbol(d)]
```

---

# Where to use

---

## 1. Hidden properties

```js
const ROLE = Symbol()

const createAdmin = (name) => ({
  name,
  [ROLE]: "admin"
})

const isAdmin = ({[ROLE]: role}) =>
  role === 'admin'
```

---

## 2. Meta-data

* Well-known symbols on Symbol object
* `Symbol.iterator`
* written as `@@iterator`
* Option for libraries

---

## Some well-known symbols

* `@@iterator`
* `@@toPrimitive`
* `@@match`
* `@@isConcatSpreadable`

---

# ðŸ‘«
# Symbols are your friends! 

<Appear>
  <h3>If you do not overuse themâ€¦</h3>
</Appear>

---

# ðŸ‘‹

[symbols-complicated-it-all.netlify.com](http://symbols-complicated-it-all.netlify.com/)